# 가맹점 위기 조기 경보 서비스 설계서

## 📋 목차
1. [서비스 개요](#1-서비스-개요)
2. [서비스 아키텍처](#2-서비스-아키텍처)
3. [핵심 기능](#3-핵심-기능)
4. [사용자 여정](#4-사용자-여정)
5. [UI/UX 설계](#5-uiux-설계)
6. [운영 프로세스](#6-운영-프로세스)
7. [서비스 레벨](#7-서비스-레벨)
8. [기술 스택](#8-기술-스택)

---

## 1. 서비스 개요

### 1.1 서비스명
**"신한 가맹점 헬스케어 시스템"** (Shinhan Merchant Healthcare System)

### 1.2 서비스 목적
영세/중소 요식 가맹점의 **경영 위기를 1~3개월 전에 조기 발견**하고, **맞춤형 솔루션을 제공**하여 폐업을 예방하고 지속 가능한 성장을 지원

### 1.3 핵심 가치 제안

#### 가맹점주에게
- 💡 **조기 경보**: 위기를 미리 알려 대응 시간 확보
- 📊 **데이터 기반 진단**: 객관적인 경영 상태 파악
- 🎯 **맞춤 솔루션**: 내 가게에 딱 맞는 개선 방안
- 👨‍💼 **전문가 지원**: 1:1 컨설팅 및 금융상품 연결

#### 신한카드에게
- 🛡️ **가맹점 이탈 방지**: 폐업 예방으로 수수료 수익 유지
- 📈 **금융상품 판매**: 위기 가맹점 대상 타겟 마케팅
- 🏆 **브랜드 가치**: 가맹점 상생 이미지 강화
- 📊 **데이터 자산**: AI 기반 인사이트 축적

### 1.4 대상 고객

#### 1차 대상
- **지역**: 서울 성동구
- **업종**: 요식업 (73개 세부 업종)
- **규모**: 영세/중소 가맹점 (4,185개)
- **특징**: 폐업 위험 높음 (연 3% 폐업률)

---

## 2. 서비스 아키텍처

### 2.1 전체 시스템 구성도

```
┌─────────────────────────────────────────────────────────┐
│                   데이터 수집 레이어                      │
├─────────────────────────────────────────────────────────┤
│  신한카드 거래 데이터 (자동)  │  외부 데이터 (선택)       │
│  - 월별 매출/건수/고객 정보    │  - 상권 정보             │
│  - 업종/상권 비교 지표         │  - 날씨/이벤트           │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                   AI 분석 엔진                           │
├─────────────────────────────────────────────────────────┤
│  XGBoost/LightGBM 앙상블 모델                            │
│  - 폐업 위험도 예측 (0-100점)                           │
│  - 위험 유형 분류 (5가지)                               │
│  - SHAP 기반 위험 요인 분석                             │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                   비즈니스 로직                          │
├─────────────────────────────────────────────────────────┤
│  - 위험도 등급 판정 (5단계)                             │
│  - 맞춤 리포트 생성                                     │
│  - 솔루션 매칭 (금융상품/컨설팅)                        │
│  - 알림 발송 규칙                                       │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                   사용자 인터페이스                      │
├─────────────────────────────────────────────────────────┤
│  모바일 앱 (가맹점주)  │  웹 대시보드  │  관리자 콘솔   │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│                   개입 및 지원                           │
├─────────────────────────────────────────────────────────┤
│  전문가 상담  │  금융상품 연결  │  교육 프로그램         │
└─────────────────────────────────────────────────────────┘
```

### 2.2 조기 경보 시스템

#### 2.2.1 위험도 평가 모델
```python
# 위험도 점수 (0-100)
risk_score = model.predict_proba(features)[1] * 100

# 5단계 등급 분류
if risk_score >= 80:
    level = "위험" (적색)
elif risk_score >= 60:
    level = "경고" (주황)
elif risk_score >= 40:
    level = "주의" (황색)
elif risk_score >= 20:
    level = "양호" (연두)
else:
    level = "안전" (녹색)
```

#### 2.2.2 알림 발송 규칙

| 위험도 | 알림 채널 | 빈도 | 내용 |
|--------|----------|------|------|
| **위험** (80+) | 앱 푸시 + SMS + 담당자 전화 | 즉시 | 긴급 경보 + 전문가 상담 권유 |
| **경고** (60-79) | 앱 푸시 + SMS | 주 1회 | 위험 신호 안내 + 솔루션 제안 |
| **주의** (40-59) | 앱 푸시 | 월 2회 | 개선 권고 사항 |
| **양호** (20-39) | 앱 알림 | 월 1회 | 정기 리포트 |
| **안전** (0-19) | 앱 알림 | 분기 1회 | 건강 상태 유지 팁 |

#### 2.2.3 조기 경보 타이밍
- **예측 시점**: 매월 5일 (전월 데이터 기준)
- **리드 타임**: 평균 60일 전 경보
- **모니터링**: 위험군은 격주 재평가

---

## 3. 핵심 기능

### 3.1 위험도 진단 (AI 자동)

#### 기능 설명
- XGBoost/LightGBM 모델을 통한 폐업 위험도 예측
- SHAP 분석으로 주요 위험 요인 3가지 추출
- 예상 위기 시점 안내 (D-XX일)

#### 출력 정보
```
┌──────────────────────────────────┐
│   내 가맹점 건강 점수: 72점       │
│   등급: ⚠️ 경고                  │
│                                  │
│   예상 위기 시점: 약 45일 후      │
│                                  │
│   주요 위험 신호:                │
│   1. 재방문 고객 20% 감소         │
│   2. 업종 내 순위 15% 하락        │
│   3. 배달 매출 의존도 증가        │
└──────────────────────────────────┘
```

### 3.2 맞춤 대시보드

#### 3.2.1 핵심 지표 모니터링
- **매출 추이**: 최근 6개월 그래프
- **고객 수 변화**: 신규/재방문 고객 비율
- **업종 비교**: 평균 대비 내 위치 (백분위)
- **상권 경쟁**: 동일 상권 내 순위

#### 3.2.2 시각화 예시
```
매출 추이 (최근 6개월)
━━━━━━━━━━━━━━━━━━━━━━━
    ┃     ╱╲
    ┃    ╱  ╲
    ┃   ╱    ╲   ╱
    ┃  ╱      ╲ ╱
    ┃ ╱        ╳    ← 위험 신호!
    ┃╱          ╲
━━━━━━━━━━━━━━━━━━━━━━━
 5월 6월 7월 8월 9월 10월

업종 평균 대비: 85% (하위 15%)
```

### 3.3 액션 플랜 제공

#### 위험 유형별 즉시 실행 가능한 개선안

**[매출 급락형 가맹점 예시]**
```
📋 즉시 실행 가능한 개선안 Top 3

1. 🎯 고객 재방문 캠페인
   - 단골 고객 대상 10% 할인 쿠폰 발송
   - 예상 효과: 재방문율 15% 증가
   - 소요 비용: 30만원
   - 실행 기간: 2주

2. 📱 배달앱 프로모션 강화
   - 신규 고객 무료배달 이벤트 (1주일)
   - 예상 효과: 신규 고객 30명 유입
   - 소요 비용: 20만원
   - 실행 기간: 1주

3. 🍽️ 메뉴 리뉴얼
   - 계절 메뉴 추가 (업종 평균 대비 10% 저가)
   - 예상 효과: 객단가 8% 상승
   - 소요 비용: 50만원
   - 실행 기간: 1개월
```

### 3.4 전문가 연결

#### 3.4.1 전문가 매칭 프로세스
```
위험 감지 → 위험 유형 분류 → 전문가 자동 매칭 → 상담 예약
```

#### 3.4.2 전문가 풀
- **마케팅 전문가**: 매출 급락형 대응
- **CRM 컨설턴트**: 고객 이탈형 대응
- **메뉴 개발 전문가**: 경쟁 열위형 대응
- **경영 컨설턴트**: 종합 위기형 대응
- **금융상담사**: 모든 유형 금융지원

#### 3.4.3 상담 방식
- **온라인**: 화상 상담 (30분, 무료)
- **오프라인**: 매장 방문 상담 (1시간, 유료)
- **전화**: 긴급 상담 (15분, 무료)

---

## 4. 사용자 여정

### 4.1 가맹점주 관점 (User Journey)

```
Step 1: 자동 등록
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
신한카드 가맹점 자동 가입
→ 앱 다운로드 / 웹 접속
→ 간편 인증 (가맹점번호 + 휴대폰)
→ 서비스 레벨 선택 (Basic/Standard/Premium)

Step 2: 정기 진단
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
매월 5일 자동 건강검진
→ AI 모델이 전월 데이터 분석
→ 위험도 점수 산출 (0-100)
→ 리포트 자동 생성

Step 3: 알림 수신
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
위험 감지 시 즉시 알림
→ 앱 푸시 + SMS 발송
→ "경고! 60일 내 위기 예상"
→ 주요 위험 신호 3가지 안내

Step 4: 리포트 확인
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
앱/웹에서 상세 리포트 열람
→ 건강 점수 확인
→ 매출/고객 추이 분석
→ 업종/상권 비교
→ 위험 요인 파악

Step 5: 솔루션 선택
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
추천 솔루션 카드 확인
→ 액션 플랜 3가지 제시
→ 금융상품 추천
→ 전문가 상담 안내
→ 원하는 솔루션 선택

Step 6: 전문가 상담
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
상담 신청 (앱 내 예약)
→ 전문가 자동 매칭
→ 일정 조율
→ 화상/전화/방문 상담 진행
→ 구체적 실행 계획 수립

Step 7: 실행 및 모니터링
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
개선안 실행
→ 금융상품 이용 (필요 시)
→ 2주마다 경과 체크
→ AI가 개선 효과 측정
→ 피드백 제공
```

### 4.2 신한카드 담당자 관점

```
Step 1: 전체 모니터링
→ 관리자 콘솔 접속
→ 전체 가맹점 현황 대시보드
→ 위험군 필터링 (경고/위험 등급)

Step 2: 위험군 관리
→ 위험 가맹점 목록 확인
→ 개별 상세 리포트 열람
→ 우선순위 설정 (위험도 높은 순)

Step 3: 개입 전략 수립
→ 위험 유형별 분류
→ 맞춤 솔루션 패키지 준비
→ 전문가 배정

Step 4: 성과 추적
→ 개입 후 개선 효과 모니터링
→ 폐업 예방 성공률 집계
→ ROI 분석
```

---

## 5. UI/UX 설계

### 5.1 모바일 앱 (가맹점주용)

#### 5.1.1 홈 화면
```
┌──────────────────────────────────┐
│  ☰  신한 가맹점 헬스케어    🔔   │
├──────────────────────────────────┤
│                                  │
│      내 가맹점 건강 점수          │
│                                  │
│           72점                   │
│      ┌─────────────┐             │
│      │  ⚠️ 경고     │             │
│      └─────────────┘             │
│                                  │
│   예상 위기 시점: 약 45일 후      │
│                                  │
├──────────────────────────────────┤
│  주요 위험 신호                  │
│  ┌──────────────────────────┐   │
│  │ 1. 재방문 고객 20% 감소   │   │
│  │ 2. 업종 내 순위 15% 하락  │   │
│  │ 3. 배달 의존도 증가       │   │
│  └──────────────────────────┘   │
├──────────────────────────────────┤
│  [상세 리포트 보기]              │
│  [추천 솔루션 확인]              │
└──────────────────────────────────┘
```

#### 5.1.2 대시보드 화면
```
┌──────────────────────────────────┐
│  ← 대시보드                       │
├──────────────────────────────────┤
│  📊 매출 추이 (6개월)             │
│  ┌──────────────────────────┐   │
│  │    [그래프 영역]          │   │
│  │                           │   │
│  └──────────────────────────┘   │
│                                  │
│  👥 고객 분석                    │
│  ┌──────────────────────────┐   │
│  │ 재방문 고객: 45%          │   │
│  │ 신규 고객: 55%            │   │
│  │                           │   │
│  │ [고객층 분포 차트]        │   │
│  └──────────────────────────┘   │
│                                  │
│  🏆 업종/상권 비교               │
│  ┌──────────────────────────┐   │
│  │ 업종 평균 대비: 85%       │   │
│  │ 상권 내 순위: 15위/50개   │   │
│  └──────────────────────────┘   │
└──────────────────────────────────┘
```

#### 5.1.3 솔루션 추천 화면
```
┌──────────────────────────────────┐
│  ← 추천 솔루션                    │
├──────────────────────────────────┤
│  🎯 즉시 실행 가능한 개선안       │
│                                  │
│  ┌──────────────────────────┐   │
│  │ 1. 고객 재방문 캠페인     │   │
│  │                           │   │
│  │ 예상 효과: 재방문 15% ↑   │   │
│  │ 소요 비용: 30만원         │   │
│  │                           │   │
│  │ [자세히 보기]             │   │
│  └──────────────────────────┘   │
│                                  │
│  ┌──────────────────────────┐   │
│  │ 2. 배달앱 프로모션        │   │
│  │ ...                       │   │
│  └──────────────────────────┘   │
│                                  │
│  💰 추천 금융상품                │
│  ┌──────────────────────────┐   │
│  │ 마케팅 지원 대출          │   │
│  │ 금리 3.5%, 최대 500만원   │   │
│  │                           │   │
│  │ [상담 신청]               │   │
│  └──────────────────────────┘   │
└──────────────────────────────────┘
```

### 5.2 웹 대시보드 (상세 분석용)

#### 5.2.1 메인 화면
```
┌────────────────────────────────────────────────────────────┐
│  신한 가맹점 헬스케어 │  대시보드  리포트  설정  로그아웃   │
├────────────────────────────────────────────────────────────┤
│                                                            │
│  [건강 점수]        [매출 추이]        [고객 분석]         │
│  ┌──────────┐      ┌──────────┐      ┌──────────┐        │
│  │   72점    │      │  [그래프] │      │  [차트]   │        │
│  │  ⚠️ 경고  │      │          │      │          │        │
│  └──────────┘      └──────────┘      └──────────┘        │
│                                                            │
│  [위험 요인 분석]                                          │
│  ┌─────────────────────────────────────────────────────┐  │
│  │  SHAP 분석 결과                                      │  │
│  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │  │
│  │  재방문율 감소        ████████████ 0.25              │  │
│  │  업종 순위 하락       ████████ 0.18                  │  │
│  │  신규 고객 유입 감소  ██████ 0.15                    │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                            │
│  [추천 솔루션]          [전문가 상담]                      │
└────────────────────────────────────────────────────────────┘
```

### 5.3 관리자 콘솔 (신한카드 담당자용)

#### 5.3.1 전체 모니터링
```
┌────────────────────────────────────────────────────────────┐
│  관리자 콘솔 │  전체 현황  위험군 관리  성과 분석  설정      │
├────────────────────────────────────────────────────────────┤
│  전체 가맹점 현황 (성동구)                                  │
│  ┌──────────────────────────────────────────────────────┐  │
│  │  총 가맹점: 4,185개                                   │  │
│  │  ┌───────┐  ┌───────┐  ┌───────┐  ┌───────┐  ┌───────┐│  │
│  │  │ 안전  │  │ 양호  │  │ 주의  │  │ 경고  │  │ 위험  ││  │
│  │  │ 2,500 │  │ 1,000 │  │  500  │  │  150  │  │  35   ││  │
│  │  │ 60%   │  │ 24%   │  │ 12%   │  │  3.5% │  │ 0.8%  ││  │
│  │  └───────┘  └───────┘  └───────┘  └───────┘  └───────┘│  │
│  └──────────────────────────────────────────────────────┘  │
│                                                            │
│  위험군 가맹점 목록 (경고 + 위험: 185개)                    │
│  ┌─────────────────────────────────────────────────────┐  │
│  │  가맹점명    업종      위험도  위험유형    최종상담일  │  │
│  │  ────────────────────────────────────────────────── │  │
│  │  호호치킨   치킨      92점   매출급락형   2024-09-15 │  │
│  │  카페***    카페      85점   고객이탈형   2024-09-20 │  │
│  │  한식당**   한식      78점   경쟁열위형   미상담     │  │
│  │  ...                                                 │  │
│  └─────────────────────────────────────────────────────┘  │
│                                                            │
│  [상세 보기]  [일괄 알림 발송]  [전문가 배정]               │
└────────────────────────────────────────────────────────────┘
```

---

## 6. 운영 프로세스

### 6.1 데이터 수집 (자동)

#### 6.1.1 데이터 소스
```python
# 월 1회 자동 수집 (매월 1일 00:00)
data_sources = {
    '신한카드 내부 데이터': {
        'dataset_1': '가맹점 개요정보',
        'dataset_2': '월별 이용 정보',
        'dataset_3': '월별 고객정보'
    },
    '외부 데이터 (선택)': {
        '상권정보': 'API 연동',
        '날씨 데이터': 'API 연동',
        '이벤트 정보': '크롤링'
    }
}
```

#### 6.1.2 수집 프로세스
1. 전월 데이터 추출 (신한카드 DW)
2. 데이터 검증 (결측값, 이상치 체크)
3. 전처리 (SV 처리, 인코딩)
4. Feature Engineering (시계열 특성 생성)
5. DB 저장 (PostgreSQL)

### 6.2 AI 분석 (자동)

#### 6.2.1 분석 프로세스
```python
# 매월 5일 00:00 실행
def monthly_analysis():
    # 1. 데이터 로드
    data = load_monthly_data()

    # 2. Feature 생성
    features = create_features(data)

    # 3. 모델 예측
    risk_score = ensemble_model.predict_proba(features)[:, 1] * 100

    # 4. SHAP 분석
    shap_values = explainer(features)
    top_3_risks = get_top_risks(shap_values, n=3)

    # 5. 위험 유형 분류
    risk_type = classify_risk_type(shap_values, features)

    # 6. 리포트 생성
    report = generate_report(risk_score, top_3_risks, risk_type)

    # 7. DB 저장
    save_to_db(report)

    return report
```

#### 6.2.2 모델 재학습 (분기 1회)
- 최근 3개월 데이터 추가
- 모델 성능 재평가
- 하이퍼파라미터 재튜닝 (필요 시)
- 새 모델 배포

### 6.3 알림 발송 (자동/수동)

#### 6.3.1 자동 알림
```python
# 위험도 기반 자동 발송
def send_alerts():
    for merchant in get_all_merchants():
        if merchant.risk_score >= 80:  # 위험
            send_push_notification(merchant, priority='high')
            send_sms(merchant)
            notify_manager(merchant)  # 담당자에게도 통보

        elif merchant.risk_score >= 60:  # 경고
            send_push_notification(merchant, priority='medium')
            send_sms(merchant)

        elif merchant.risk_score >= 40:  # 주의
            send_push_notification(merchant, priority='low')
```

#### 6.3.2 알림 템플릿
```
[위험 등급 - 긴급]
[가맹점명]님, 경영 위기 경보!

현재 위험도: 92점 (위험)
예상 위기: 약 30일 후

주요 위험 신호:
1. 재방문 고객 30% 급감
2. 업종 순위 25% 하락
3. 매출 변동성 급증

즉시 전문가 상담을 권장합니다.
[상담 신청하기]

- 신한 가맹점 헬스케어
```

### 6.4 개입 및 지원 (수동)

#### 6.4.1 개입 트리거
- 위험 등급 진입 (경고/위험)
- 가맹점주 상담 요청
- 담당자 수동 개입

#### 6.4.2 지원 프로세스
```
1. 상담 신청 접수
   ↓
2. 전문가 자동 매칭 (위험 유형 기반)
   ↓
3. 1차 상담 (온라인, 30분)
   - 현황 파악
   - 솔루션 제시
   ↓
4. 실행 계획 수립
   - 액션 플랜 확정
   - 금융상품 연결
   ↓
5. 실행 지원
   - 금융상품 신청
   - 마케팅 지원
   - 교육 프로그램
   ↓
6. 2주 후 Follow-up
   - 개선 효과 측정
   - 추가 지원 여부 결정
```

### 6.5 성과 추적 (자동)

#### 6.5.1 추적 지표
```python
# 개입 효과 측정
def track_performance(merchant_id, intervention_date):
    # Before (개입 전 3개월)
    before_data = get_data(merchant_id,
                          start=intervention_date - 90days,
                          end=intervention_date)

    # After (개입 후 3개월)
    after_data = get_data(merchant_id,
                         start=intervention_date,
                         end=intervention_date + 90days)

    # 개선 효과 계산
    improvement = {
        '매출 변화율': calc_change(before_data.sales, after_data.sales),
        '고객 수 변화율': calc_change(before_data.customers, after_data.customers),
        '재방문율 변화': after_data.revisit_rate - before_data.revisit_rate,
        '위험도 변화': after_data.risk_score - before_data.risk_score
    }

    return improvement
```

#### 6.5.2 성과 리포트 (월간)
- 개입 가맹점 수
- 폐업 예방 성공률
- 평균 위험도 개선폭
- 매출 회복률
- ROI 계산

---

## 7. 서비스 레벨

### 7.1 Basic (무료)

#### 제공 기능
- ✅ 월 1회 위험도 진단
- ✅ 간단 리포트 (건강 점수, 위험 신호 3가지)
- ✅ 앱/SMS 알림
- ✅ 기본 대시보드

#### 타겟 고객
- 서비스 체험 희망 가맹점
- 안전 등급 가맹점

### 7.2 Standard (월 3만원)

#### 제공 기능
- ✅ Basic 모든 기능
- ✅ 주간 위험도 진단 (주 1회)
- ✅ 상세 리포트 (업종/상권 비교 포함)
- ✅ 액션 플랜 제공 (개선안 3가지)
- ✅ 온라인 전문가 상담 월 1회 (30분)
- ✅ 추천 금융상품 안내

#### 타겟 고객
- 주의/경고 등급 가맹점
- 적극적 경영 개선 의지 있는 가맹점

### 7.3 Premium (월 5만원)

#### 제공 기능
- ✅ Standard 모든 기능
- ✅ 실시간 위험도 모니터링
- ✅ 전문가 1:1 전담 컨설팅 (월 2회)
- ✅ 맞춤 교육 프로그램 (분기 1회)
- ✅ 우선 금융상품 혜택 (금리 0.5% 우대)
- ✅ 매장 방문 컨설팅 (분기 1회)
- ✅ 성공 가맹점 네트워킹 초대

#### 타겟 고객
- 위험 등급 가맹점
- 매출 10억 이상 주요 가맹점

### 7.4 레벨별 비교표

| 기능 | Basic | Standard | Premium |
|------|-------|----------|---------|
| **가격** | 무료 | 3만원/월 | 5만원/월 |
| **진단 빈도** | 월 1회 | 주 1회 | 실시간 |
| **리포트** | 간단 | 상세 | 심화 |
| **액션 플랜** | ❌ | ✅ 3가지 | ✅ 5가지 |
| **온라인 상담** | ❌ | ✅ 월 1회 | ✅ 월 2회 |
| **방문 컨설팅** | ❌ | ❌ | ✅ 분기 1회 |
| **교육 프로그램** | ❌ | ❌ | ✅ |
| **금융 혜택** | 일반 | 일반 | 우대 0.5%↓ |
| **전담 컨설턴트** | ❌ | ❌ | ✅ |

---

## 8. 기술 스택

### 8.1 Backend

```python
# Framework
FastAPI  # RESTful API, 비동기 처리

# Database
PostgreSQL  # 메인 DB (가맹점 정보, 리포트)
Redis  # 캐시 (실시간 데이터, 세션)

# Task Queue
Celery  # 배치 작업 (월간 분석, 알림 발송)
RabbitMQ  # 메시지 브로커

# Storage
AWS S3  # 모델 파일, 리포트 PDF
```

### 8.2 AI/ML

```python
# Model Serving
MLflow  # 모델 버전 관리
FastAPI  # 모델 API 엔드포인트

# Models
XGBoost  # 주 모델
LightGBM  # 보조 모델
SHAP  # 해석

# Data Processing
Pandas  # 데이터 처리
NumPy  # 수치 연산
Scikit-learn  # 전처리, 평가
```

### 8.3 Frontend

```javascript
// Mobile App
React Native  // iOS/Android 동시 개발
Redux  // 상태 관리
React Navigation  // 라우팅

// Web Dashboard
React  // SPA
TypeScript  // 타입 안정성
Chart.js / D3.js  // 시각화
Material-UI  // UI 컴포넌트

// Admin Console
React  // SPA
Ant Design  // UI 컴포넌트
```

### 8.4 Infrastructure

```yaml
# Cloud Platform
AWS:
  - EC2: 웹 서버, API 서버
  - RDS: PostgreSQL
  - ElastiCache: Redis
  - S3: 정적 파일, 모델 저장
  - CloudFront: CDN
  - ELB: 로드 밸런서

# Monitoring
Grafana: 시스템 모니터링
Prometheus: 메트릭 수집
Sentry: 에러 트래킹
CloudWatch: AWS 리소스 모니터링

# CI/CD
GitHub Actions: 자동 배포
Docker: 컨테이너화
Kubernetes: 오케스트레이션 (향후)
```

### 8.5 알림 서비스

```python
# Push Notification
Firebase Cloud Messaging (FCM)  # 앱 푸시

# SMS
SENS (Naver Cloud)  # 문자 발송

# Email
AWS SES  # 이메일 발송
```

### 8.6 시스템 아키텍처 다이어그램

```
┌─────────────────────────────────────────────────────┐
│                   Client Layer                      │
│  ┌──────────┐  ┌──────────┐  ┌──────────────────┐  │
│  │Mobile App│  │Web Portal│  │ Admin Console    │  │
│  │(React    │  │(React)   │  │ (React)          │  │
│  │ Native)  │  │          │  │                  │  │
│  └──────────┘  └──────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────┘
                        ↓ HTTPS
┌─────────────────────────────────────────────────────┐
│               API Gateway (ELB)                     │
└─────────────────────────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────┐
│              Application Layer (EC2)                │
│  ┌─────────────────────────────────────────────┐   │
│  │         FastAPI (REST API)                  │   │
│  │  - 인증/인가                                 │   │
│  │  - 비즈니스 로직                             │   │
│  │  - 리포트 생성                               │   │
│  └─────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────┘
          ↓                          ↓
┌──────────────────┐      ┌──────────────────────────┐
│   ML Service     │      │   Background Tasks       │
│   (FastAPI)      │      │   (Celery + RabbitMQ)    │
│                  │      │                          │
│ - Model Serving  │      │ - 월간 분석              │
│ - SHAP Analysis  │      │ - 알림 발송              │
│ - Risk Scoring   │      │ - 리포트 생성            │
└──────────────────┘      └──────────────────────────┘
          ↓                          ↓
┌─────────────────────────────────────────────────────┐
│                Data Layer                           │
│  ┌──────────────┐  ┌──────────┐  ┌──────────────┐  │
│  │ PostgreSQL   │  │  Redis   │  │    S3        │  │
│  │ (RDS)        │  │(ElastiCache)│(Model/Files) │  │
│  └──────────────┘  └──────────┘  └──────────────┘  │
└─────────────────────────────────────────────────────┘
```

---

## 9. 서비스 핵심 가치

### 9.1 차별화 요소

**신한 가맹점 헬스케어 시스템**은 단순한 예측 도구를 넘어, 가맹점의 **지속 가능한 성장을 위한 종합 케어 플랫폼**입니다.

1. **조기 예측**: 1~3개월 전 위기 감지
2. **맞춤 솔루션**: 위험 유형별 5가지 패키지
3. **전문가 네트워크**: 1:1 컨설팅 지원
4. **데이터 기반**: 신한카드 독점 거래 데이터

### 9.2 기대효과

#### 가맹점
- 폐업 위험 조기 감지
- 데이터 기반 경영 의사결정
- 전문가 지원을 통한 개선

#### 신한카드
- 가맹점 이탈 방지
- 금융상품 판매 기회
- 브랜드 가치 향상

---

**작성일**: 2025-10-05
**버전**: 1.0
**문서 유형**: 서비스 설계서
